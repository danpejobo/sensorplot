# ==============================================================================
#   SENSORPLOT KONFIGURASJONSEKSEMPEL
#   Kjør med: poetry run sensorplot --config example_config.yaml
# ==============================================================================

# ------------------------------------------------------------------------------
# 1. INNSTILLINGER (GLOBALE VALG)
# ------------------------------------------------------------------------------
settings:
  # Tittel på plottet
  title: "Vannstandsanalyse - Laksemyra & TAP Nord (2023-2024)"

  # Hvor skal bildet lagres? 
  # Hvis du fjerner denne linjen (eller kommenterer ut), vises GUI-vinduet i stedet.
  output: "resultat_analyse.png"

  # Fjerning av støy (Z-score).
  # 3.0 er standard. Høyere tall = beholder mer data (løsere). Lavere tall = strengere.
  clean: 3.0

  # Styring av X-aksen (Tidslinjen).
  # Angi intervall for etiketter manuelt hvis det blir rotete.
  # Eksempler: "1M" (Hver måned), "2W" (Hver 2. uke), "1Y" (Hvert år), "3D" (Hver 3. dag).
  # Sett til "" eller fjern linjen for automatisk styring.
  x_interval: "2M"

  # Kolonnenavn i kildefilene dine.
  # Disse brukes hvis ikke annet er spesifisert.
  col_date: "Date"
  col_time: "Time"
  col_data: "LEVEL"   # Ofte "ch1", "LEVEL", eller "Value"

# ------------------------------------------------------------------------------
# 2. FILER (DEFINER ALIAS)
# ------------------------------------------------------------------------------
files:
  # Barometer (Referanse)
  # Merk: Stiene er relative til hvor du kjører kommandoen fra.
  B: "tests/data/Barologger 2024.csv"

  # Lokasjon 1: Laksemyra (Excel/CSV-filer)
  # Her later vi som at vi har data for to år i to forskjellige filer
  L1_23: "tests/data/Laksmyra1 2023.xlsx"  # (Eksempelnavn)
  L1_24: "tests/data/Laksmyra1 2024.csv"

  # Lokasjon 2: TAP Nord (CSV-filer med annet format)
  TAP_24: "tests/data/TAP-data.xlsx - TAP N brønn 3 2024.csv"

# ------------------------------------------------------------------------------
# 3. SERIER (HVA SKAL PLOTTES?)
# ------------------------------------------------------------------------------
series:
  # --- EKSEMPEL 1: ENKEL KORRIGERING ---
  # Trekker barometer (B) fra logger (L1_24).
  - label: "Laksemyra 1 (2024)"
    formula: "L1_24.ch1 - B.ch1"

  # --- EKSEMPEL 2: SAMMENSLÅING AV ÅR (LONG TIME SERIES) ---
  # Hvis du gir to oppføringer SAMME 'label', vil programmet lime dem sammen
  # til én lang, kontinuerlig tidslinje i plottet.
  # (Nyttig hvis du har L1_23 og L1_24 definert som filer over)
  
  # - label: "Laksemyra Langtidsserie"
  #   formula: "L1_23.ch1 - B.ch1"
  
  # - label: "Laksemyra Langtidsserie"
  #   formula: "L1_24.ch1 - B.ch1"

  # --- EKSEMPEL 3: AVANSERT MATEMATIKK (ENHETSKONVERTERING) ---
  # Her konverterer vi Barometer (kPa) til meter vannsøyle før subtraksjon.
  # Formel: (Baro_kPa * 1000) / (VannTetthet * Tyngdekraft)
  # Antar: Tetthet=1000 kg/m3, G=9.81 m/s2
  - label: "TAP Nord (Avansert Korrigering)"
    formula: "TAP_24.ch1 - ((B.ch1 * 1000) / (1000 * 9.81))"

  # --- EKSEMPEL 4: RÅDATA (INGEN FORMELL) ---
  # Bare vis rådataene fra barometeret for å sjekke støy.
  - label: "Barometer (Rådata)"
    formula: "B.ch1"